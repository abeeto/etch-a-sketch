<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <title>Etch-a-sketch</title>
    </head>
    <body>
        <script>
            const bodyHTMLnode = document.querySelector("body");

            function createSquare(width=50) {
                const singleSquare = document.createElement('div');
                singleSquare.setAttribute("style", `width: ${width}px; height: ${width}px; border: 1px solid black;`);
                singleSquare.classList.add('square');
                return singleSquare;
            }

            function createGrid(gridSize=16){
                const gridContainer = document.createElement('div');
                gridContainer.setAttribute('style', 'height: 820px; width: 820px;')
                gridContainer.classList.add('container');
                for (let row=0; row < gridSize; row++){
                    const gridRow = document.createElement('div');
                    const squareSize = Math.floor(820 / gridSize);
                    for (let column = 0; column < gridSize; column++){
                        const square = createSquare(squareSize);
                        gridRow.appendChild(square);
                    }
                    gridContainer.appendChild(gridRow);
                }
                gridContainer.setAttribute('id', "gridContainer")
                gridContainer.setAttribute('style', "display: flex; flex-direction: row; flex-wrap: no-wrap; justify-content: center;")
                
                gridContainer.addEventListener('mouseover', (e) => {
                    console.log(e.target);
                    if (e.target.classList.contains("square")){
                        e.target.classList.toggle('drawn');
                    }
                })
                bodyHTMLnode.appendChild(gridContainer);
            }
            
            const newGridButton = document.createElement('button');
            newGridButton.innerText = "New Grid";
            newGridButton.addEventListener("click", () => {
                let newGridSize = parseInt(prompt("X * X grid, type desired X:", "16"));
                document.querySelector('#gridContainer').remove();
                createGrid(newGridSize);
            })
            bodyHTMLnode.appendChild(newGridButton);
            createGrid();
        </script>
    </body>
</html>
